<!DOCTYPE html>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>vue</title>
		<!--<link rel="stylesheet" href="https://keepfool.github.io/vue-tutorials/01.GettingStarted/styles/demo.css" />-->
		<!--<link rel="stylesheet" href="./jvw/element-ui/element-ui@2.4.0/element-ui.2.4.0.css">-->
		<link rel="stylesheet" href="./jvw/antd/antd.min.css">
		<style>

		</style>
		<!--<meta http-equiv="refresh" content="30" />-->
	</head>

	<body>

		<div id="swq">

			<!---->
			<a target="_blank" href="https://github.com/vueComponent/ant-design-vue/tree/1.3.9">https://github.com/vueComponent/ant-design-vue/tree/1.3.9</a>
			<br />
			<a target="_blank" href="https://vue.ant.design/components/affix-cn/">https://vue.ant.design/components/affix-cn/</a>
			<br />
			<a target="_blank" href="https://pro.loacg.com/docs/getting-started">https://pro.loacg.com/docs/getting-started</a>
			<br />
			<a target="_blank" href="https://github.com/sendya/ant-design-pro-vue/blob/master/README.zh-CN.md">https://github.com/sendya/ant-design-pro-vue/blob/master/README.zh-CN.md</a>
			<br />
			<!---->
			<App ref="swq"></App>
			<!---->
			<div @click="click">click</div>
		</div>

		<script type="text/x-template" id="App-template">
			<div>

				<!--<c1 />-->
				<c2 ref="c2" />
				<UnitPriceCounter></UnitPriceCounter>

			</div>
		</script>
		<script type="text/x-template" id="UnitPriceCounter-template">
			<div style="width: 500px; margin: auto;">
				<a-row>
					<a-col span="8">
						总价<input style="width: 100%;text-align: right;" type="number" v-model="price1" placeholder="总价" />
					</a-col>
					<a-col span="8" offset="8">
						总价<input style="width: 100%;text-align: left;" type="number" v-model="price2" placeholder="总价" />
					</a-col>
				</a-row>
				<a-row>
					<a-col span="8">
						数量<input style="width: 100%;text-align: right;" type="number" v-model="amount1" placeholder="数量" />
					</a-col>
					<a-col span="8" offset="8">
						数量<input style="width: 100%;text-align: left;" type="number" v-model="amount2" placeholder="数量" />
					</a-col>
				</a-row>
				<a-row>
					<a-col span="8">
						<div style="text-align: right;">{{price1 / amount1}}</div>
					</a-col>
					<a-col span="8">
						<div style="text-align: center;">{{compare}}</div>
					</a-col>
					<a-col span="8">
						<div style="text-align: left;">{{price2 / amount2}}</div>
					</a-col>
				</a-row>
			</div>
		</script>
		<script type="text/x-template" id="c1-template">
			<div id="components-form-demo-vuex">
				c1
				<a-form v-if="false" :form="form" @submit="handleSubmit">
					<a-form-item label="Username">
						<a-input v-decorator="['username',{rules: [{ required: true, message: 'Username is required!'}],}]"></a-input>
					</a-form-item>
					<a-button type="primary" html-type="submit"> Submit </a-button>
				</a-form>
			</div>
		</script>
		<script type="text/x-template" id="c2-template">
			<div>
				<c1 ref="c1" />
				<a-form v-if="false" :form="form" @submit="handleSubmit">
					<a-form-item label="Note" :label-col="{ span: 5 }" :wrapper-col="{ span: 12 }">
						<a-input v-decorator="['note', {rules: [{ required: true, message: 'Please input your note!' }]}]" />
					</a-form-item>
					<a-form-item label="Gender" :label-col="{ span: 5 }" :wrapper-col="{ span: 12 }">
						<a-select v-decorator="['gender', {rules: [{ required: true, message: 'Please select your gender!' }]}]" placeholder="Select a option and change input text above" @change="handleSelectChange">
							<a-select-option value="male"> male </a-select-option>
							<a-select-option value="female"> female </a-select-option>
						</a-select>
					</a-form-item>
					<a-form-item :wrapper-col="{ span: 12, offset: 5 }">
						<a-button type="primary" html-type="submit"> Submit </a-button>
					</a-form-item>
				</a-form>
			</div>
		</script>

		<!--<script src="./js/vue/vue.js"></script>-->
		<script src="./jvw/vue/vue@2.5.16.js"></script>
		<!--<script src="https://cdn.bootcdn.net/ajax/libs/vue/2.5.6/vue.min.js"></script>-->
		<script src="./jvw/antd/antd.js"></script>
		<!--<script src="./jvw/element-ui/element-ui@2.4.0/element-ui.2.4.0.js"></script>-->
		<!--<script src="https://cdn.bootcss.com/vue/2.5.16/vue.js"></script>-->
		<!--<script src="./jvw/jquery.min.js"></script>-->

		<script type="text/javascript">
			var c1, c2, UnitPriceCounter;
			c1 = {
				template: "#c1-template",
				props: [],
				data: function() {
					return {
						username: "dcv",
						//						form: this.$form.createForm(this),
					}
				},
				computed: {
					//					username() {
					//						return this.$store.state.username;
					//					},
				},
				components: {},
				watch: {
					username(val) {
						console.log("this.$store.state.username: ", val);
						//						this.form.setFieldsValue({
						//							username: val
						//						});
					},
				},
				methods: {
					handleSubmit(e) {
						e.preventDefault();
						this.form.validateFields((err, values) => {
							if(!err) {
								console.log("Received values of form: ", values);
								//								this.$store.commit("update", values);
							}
						});
					},
					consoleSomething(a) {
						console.log(a)
					}
				},
				created() {
					this.form = this.$form.createForm(this, {
						onFieldsChange: (_, changedFields) => {
							this.$emit("change", changedFields);
						},
						mapPropsToFields: () => {
							return {
								username: this.$form.createFormField({
									value: this.username,
								}),
							};
						},
						onValuesChange: (_, values) => {
							console.log(values);
							// 实时同步到Vuex存储
							// this.$store.commit("update", values)
						},
					});
				},
				mounted() {},
			}
			c2 = {
				template: "#c2-template",
				props: [],
				data() {
					return {
						//						formLayout: 'horizontal',
						form: this.$form.createForm(this),
					};
				},
				computed: {},
				components: {
					c1,
				},
				watch: {},
				methods: {
					handleSubmit(e) {
						e.preventDefault();
						this.form.validateFields((err, values) => {
							if(!err) {
								console.log('Received values of form: ', values);
							}
						});
					},
					handleSelectChange(value) {
						console.log(value);
						this.form.setFieldsValue({
							note: `Hi, ${value === 'male' ? 'man' : 'lady'}!`,
						});
					},
				},
				created() {},
				mounted() {},
			}
			UnitPriceCounter = {
				template: "#UnitPriceCounter-template",
				props: [],
				data() {
					return {
						price1: null,
						price2: null,
						amount1: null,
						amount2: null,
					};
				},
				computed: {
					compare: function() {

						if((this.price1 / this.amount1) > (this.price2 / this.amount2)) {
							return ">"
						} else if((this.price1 / this.amount1) < (this.price2 / this.amount2)) {
							return "<"
						} else {
							return "="
						}

					}
				},
				components: {},
				watch: {},
				methods: {},
				created() {},
				mounted() {},
			}
			var App = {
				template: "#App-template",
				props: [],
				data: function() {
					return {

					}
				},
				computed: {},
				components: {
					c1,
					c2,
					UnitPriceCounter,
				},
				watch: {},
				methods: {},
				created() {},
				mounted() {},
			};
			var vu = new Vue({
				el: "#swq",
				data: {},
				methods: {
					click() {
						this.$refs.swq.$refs.c2.$refs.c1.consoleSomething("fffff")
					}
				},
				components: {
					App: App,
				},
				watch: {},
				computed: {},
				created() {},
				mounted() {},
			});

			function true_fun() {
				console.log("true")
				return 1
			}

			function false_fun() {
				console.log("false")
				return 0
			}

			function statement1_fun() {
				console.log("statement1_fun")
				return "statement1_fun"
			}

			function statement2_fun() {
				console.log("statement2_fun")
				return "statement2_fun"
			}

			function statement3_fun() {
				console.log("statement3_fun")
				return "statement3_fun"
			}

			var _true = 1;
			var _false = 0;

			function step1() {

				console.log(_true && true_fun());
				// 执行 true_fun()
				// 返回 true_fun() 的执行结果

				console.log(_false && true_fun());
				// 不执行 true_fun()
				// 返回 _false

				console.log(true_fun() && _true);
				// 执行 true_fun()
				// 返回 _true

				console.log(true_fun() && false_fun());
				// 执行 true_fun() 后执行 false_fun()
				// 返回 false_fun() 的执行结果

				console.log(false_fun() && true_fun());
				// 执行 false_fun()
				// 不执行 true_fun()
				// 返回 false_fun() 的执行结果

			};

			function step2() {
				console.log(_true ? true_fun() : false_fun());
				// 执行 true_fun()
				// 返回 true_fun() 的执行结果

				console.log(_false ? true_fun() : false_fun());
				// 执行 false_fun()
				// 返回 false_fun() 的执行结果
			};

			function step3() {
				var condition = 0
				console.log([statement1_fun, statement2_fun, statement3_fun][condition]())
				// 返回 statement1_fun 方法本身
				// 返回结果后, 用 () 实现执行方法

				console.log(["男", "女", "未知"][condition])

				condition = 1
				console.log([statement1_fun, statement2_fun, statement3_fun][condition]())
				console.log(["男", "女", "未知"][condition])
				condition = 2
				console.log([statement1_fun, statement2_fun, statement3_fun][condition]())
				console.log(["男", "女", "未知"][condition])
				// 与前例同理
			}

			function step4() {
				var condition = "a"
				console.log({
					a: "a",
					b: "b",
					c: "c"
				}[condition])
				// 代码变得复杂了, 不利于阅读, 可能你最后会觉得 switch_case 或 多层 if_else 反而更好用
			}
			step1()
			step2()
			step3()
			step4()
		</script>
	</body>

</html>