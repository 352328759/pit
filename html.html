<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<title>700 - 295</title>
	<style>

	</style>
</head>

<body>
	<table>
		<tbody>
			<tr>
				<td>&lt;</td>
				<td>&amp;lt;</td>
				<td>&amp;#60; </td>
				<td>小于号</td>
			</tr>
			<tr>
				<td>&gt;</td>
				<td>&amp;gt; </td>
				<td>&amp;#62;</td>
				<td>大于号</td>
			</tr>
			<tr>
				<td>≤</td>
				<td>&amp;le;</td>
				<td>&amp;#8804;</td>
				<td>小于等于号</td>
			</tr>
			<tr>
				<td>≥</td>
				<td>&amp;ge;</td>
				<td>&amp;#8805;</td>
				<td>大于等于号</td>
			</tr>
			<tr>
				<td>"</td>
				<td>&amp;quot;</td>
				<td>&amp;#34;</td>
				<td>引号</td>
			</tr>
			<tr>
				<td>“</td>
				<td>&amp;ldquo;</td>
				<td>&amp;#147;</td>
				<td>左双引号</td>
			</tr>
			<tr>
				<td>”</td>
				<td>&amp;rdquo;</td>
				<td>&amp;#148;</td>
				<td>右双引号</td>
			</tr>
			<tr>
				<td>‘</td>
				<td>&amp;lsquo;</td>
				<td>&amp;#145;</td>
				<td>
					<p><span>左单引号</span></p>
				</td>
			</tr>
			<tr>
				<td>’</td>
				<td>&amp;rsquo;</td>
				<td>&amp;#146;</td>
				<td>右单引号</td>
			</tr>
		</tbody>
	</table>

	<div>
		js 隐式转换 规律

		ToPrimitive
		Symbol.toPrimitive

		_val.valueOf() //返回对象的原始值
		<br />
		<a href="https://juejin.cn/post/6844903555548053511">https://juejin.cn/post/6844903555548053511</a>
		<br />
		<a href="https://www.jb51.net/article/122992.htm">https://www.jb51.net/article/122992.htm</a>
		<br />
		<br />
	</div>

	<!-- <script src="./jvw/jquery.min.js"></script> -->
	<!-- <script src="./jvw/mock/mock-min.js"></script> -->
	<!-- <script src="./jvw/axios/axios.0.18.0.min.js"></script> -->
	<script type="text/javascript">
		"use strict"

		parseInt(escape("&").substr(1), 16) // 38
		parseInt(escape("≤").substr(2), 16) // 8804

		function fun1(params) {

			let user = {
				name: "John",
				money: 1000,

				[Symbol.toPrimitive](hint) {
					console.log(`hint: ${hint}`);
				}
			};

			var user2 = 2

			user2[Symbol.toPrimitive] = function (hint) {
				console.log(`hint: ${hint}`);
				// return hint == "string" ? `{name: "${this.name}"}` : this.money;
			}

			var ToPrimitive = function (obj, preferredType) {
				var APIs = {
					typeOf: function (obj) {
						return Object.prototype.toString.call(obj).slice(8, -1);
					},
					isPrimitive: function (obj) {
						var _this = this,
							types = ['Null', 'Undefined', 'String', 'Boolean', 'Number'];
						return types.indexOf(_this.typeOf(obj)) !== -1;
					}
				};
				// 如果 obj 本身已经是原始对象，则直接返回
				if (APIs.isPrimitive(obj)) { return obj; }

				// 对于 Date 类型，会优先使用其 toString 方法；否则优先使用 valueOf 方法
				preferredType = (preferredType === 'String' || APIs.typeOf(obj) === 'Date') ? 'String' : 'Number';
				if (preferredType === 'Number') {
					if (APIs.isPrimitive(obj.valueOf())) {
						return obj.valueOf()
					};
					if (APIs.isPrimitive(obj.toString())) {
						return obj.toString()
					};
				} else {
					if (APIs.isPrimitive(obj.toString())) {
						return obj.toString()
					};
					if (APIs.isPrimitive(obj.valueOf())) {
						return obj.valueOf()
					};
				}
				throw new TypeError('TypeError');
			}

		}

		function fun2(params) {
			let user = {
				name: "3",
				money: 1000,

				[Symbol.toPrimitive](hint) {
					console.log(hint);
					console.log(this.name)

					return this.name

					if (hint === 'number') {
						// if (APIs.isPrimitive(obj.valueOf())) {
						return this.name.valueOf()
						// };
						// if (APIs.isPrimitive(obj.toString())) {
						// 	return obj.toString()
						// };
					} else {
						// if (APIs.isPrimitive(obj.toString())) {
						return this.name.toString()
						// };
						// if (APIs.isPrimitive(obj.valueOf())) {
						// 	return obj.valueOf()
						// };
					}

				}
			};

			console.log(user + 3)

			// let user2 = 3
			// console.log("1" + user2)

		}


		window.onload = fun2


	</script>
</body>

</html>